# üî¨ Sistema de Vis√£o Computacional DX v2.0

<div align="center">

![Python](https://img.shields.io/badge/Python-3.8+-blue.svg)
![OpenCV](https://img.shields.io/badge/OpenCV-4.8+-green.svg)
![Tkinter](https://img.shields.io/badge/Tkinter-stdlib-blueviolet.svg)
![ttkbootstrap](https://img.shields.io/badge/ttkbootstrap-1.10+-purple.svg)
![License](https://img.shields.io/badge/License-MIT-green.svg)
![Status](https://img.shields.io/badge/Status-Production%20(Desktop)-brightgreen.svg)
![Version](https://img.shields.io/badge/Version-2.1-blue.svg)

**Sistema avan√ßado de inspe√ß√£o visual automatizada para controle de qualidade industrial**

*Desenvolvido pela equipe DX (Desenvolvimento Digital) - Vers√£o 2.1*

</div>

---

## üìã √çndice

- [üéØ Vis√£o Geral](#-vis√£o-geral)
- [‚ú® Funcionalidades Principais](#-funcionalidades-principais)
- [üÜï Novidades da Vers√£o 2.1](#-novidades-da-vers√£o-21)
- [üèóÔ∏è Arquitetura do Sistema](#Ô∏è-arquitetura-do-sistema)
- [üßÆ Algoritmos e Tecnologias](#-algoritmos-e-tecnologias)
- [‚öôÔ∏è Requisitos do Sistema](#Ô∏è-requisitos-do-sistema)
- [üöÄ Instala√ß√£o e Configura√ß√£o](#-instala√ß√£o-e-configura√ß√£o)
- [üì¶ Sistema de Depend√™ncias](#-sistema-de-depend√™ncias)
- [üìÅ Estrutura do Projeto](#-estrutura-do-projeto)
- [üéÆ Guia de Uso](#-guia-de-uso)
- [üîß Desenvolvimento e Extensibilidade](#-desenvolvimento-e-extensibilidade)
- [üõ†Ô∏è Solu√ß√£o de Problemas](#Ô∏è-solu√ß√£o-de-problemas)
- [üìà Performance e Otimiza√ß√£o](#-performance-e-otimiza√ß√£o)
- [üó∫Ô∏è Roadmap](#-roadmap)
- [üìû Suporte e Contribui√ß√£o](#-suporte-e-contribui√ß√£o)

---

## üéØ Vis√£o Geral

O **Sistema de Vis√£o Computacional DX v2.1** √© uma solu√ß√£o completa e avan√ßada de inspe√ß√£o visual automatizada que combina t√©cnicas sofisticadas de **vis√£o computacional**, **machine learning** e **processamento de imagens** para realizar controle de qualidade industrial com alta precis√£o e efici√™ncia.

### üåü Caracter√≠sticas Principais

- **üîç Inspe√ß√£o Automatizada**: Verifica√ß√£o autom√°tica de montagem de componentes com m√∫ltiplos algoritmos
- **ü§ñ Machine Learning**: Classificadores Random Forest e SVM para classifica√ß√£o OK/NG
- **üìπ Multi-C√¢mera**: Suporte a m√∫ltiplas c√¢meras (USB, Industrial, IP) com cache inteligente
- **üì± Modo Tablet**: Interface em tela cheia para opera√ß√£o remota e apresenta√ß√µes
- **üé® Interface Moderna**: Interface gr√°fica avan√ßada com Tkinter + ttkbootstrap
- **üíæ Banco de Dados**: Sistema SQLite robusto com backup autom√°tico e hist√≥rico completo
- **üìä Analytics**: Relat√≥rios em tempo real com m√©tricas detalhadas e estat√≠sticas
- **üîß Configur√°vel**: Sistema de configura√ß√£o visual avan√ßado com temas personaliz√°veis

---

## ‚ú® Funcionalidades Principais

### üîç **M√≥dulo de Montagem (Core)**
- **Verifica√ß√£o Autom√°tica**: Detec√ß√£o de componentes montados usando template matching avan√ßado
- **Template Matching**: M√∫ltiplos algoritmos (TM_CCOEFF_NORMED, TM_CCORR, TM_SQDIFF)
- **Feature Detection**: Algoritmo ORB (Oriented FAST and Rotated BRIEF) para detec√ß√£o robusta
- **Sistema de Slots**: Defini√ß√£o visual de √°reas de inspe√ß√£o com editor de malhas
- **Transforma√ß√µes Geom√©tricas**: Homografia e RANSAC para alinhamento de imagens
- **Valida√ß√£o em Tempo Real**: Processamento cont√≠nuo com feedback visual imediato

### üì± **Modo Tablet (NOVO)**
- **Interface em Tela Cheia**: Modo dedicado para opera√ß√£o remota e apresenta√ß√µes
- **Captura Consecutiva**: Pressione Enter para capturar novas imagens e executar inspe√ß√µes
- **Status Bar Din√¢mico**: Exibi√ß√£o em tempo real do resultado geral (APROVADO/REPROVADO)
- **Multi-Programa**: Suporte completo para inspe√ß√£o de m√∫ltiplos programas simultaneamente
- **Fallback Robusto**: Sistema inteligente que funciona mesmo com falhas de c√¢mera
- **Logs Detalhados**: Diagn√≥stico completo de cada opera√ß√£o para troubleshooting

### üß† **Sistema de Machine Learning**
- **Classificadores Avan√ßados**: Random Forest e Support Vector Machine (SVM)
- **Extra√ß√£o de Features**: 39+ caracter√≠sticas incluindo estat√≠sticas, histogramas, textura e contornos
- **Treinamento Autom√°tico**: Sistema de coleta de amostras OK/NG com valida√ß√£o cruzada
- **Otimiza√ß√£o de Thresholds**: C√°lculo autom√°tico de limiares √≥timos baseado em amostras
- **Modelos Persistidos**: Salvamento e carregamento de modelos treinados (.joblib)
- **M√©tricas de Performance**: Acur√°cia, precis√£o, recall e F1-score em tempo real

### üìπ **Gerenciamento de C√¢meras**
- **Detec√ß√£o Autom√°tica**: Identifica√ß√£o autom√°tica de c√¢meras dispon√≠veis
- **Cache Inteligente**: Sistema de cache para evitar reinicializa√ß√µes desnecess√°rias
- **Multi-Platform**: Suporte nativo para Windows (DirectShow) e Linux/macOS
- **Configura√ß√£o Avan√ßada**: Resolu√ß√£o, FPS e buffer configur√°veis
- **Limpeza Autom√°tica**: Libera√ß√£o autom√°tica de recursos n√£o utilizados
- **Fallback Robusto**: Mecanismos de recupera√ß√£o para falhas de c√¢mera
- **Sistema Dual**: Suporte para captura simult√¢nea de m√∫ltiplas c√¢meras

### üíæ **Sistema de Banco de Dados**
- **SQLite Avan√ßado**: Banco de dados relacional com transa√ß√µes ACID
- **Modelos e Slots**: Estrutura hier√°rquica para organiza√ß√£o de inspe√ß√µes
- **Hist√≥rico Completo**: Registro de todas as inspe√ß√µes com metadados
- **Backup Autom√°tico**: Sistema de backup autom√°tico com versionamento
- **Migra√ß√£o de Dados**: Suporte para importa√ß√£o de modelos JSON existentes
- **Integridade Referencial**: Constraints e foreign keys para consist√™ncia

### üé® **Interface do Usu√°rio**
- **Dashboard Centralizado**: Interface unificada com navega√ß√£o por abas
- **Temas Personaliz√°veis**: Sistema de cores e estilos configur√°vel
- **Editor Visual**: Interface gr√°fica para defini√ß√£o de √°reas de inspe√ß√£o
- **Visualiza√ß√£o em Tempo Real**: Exibi√ß√£o de resultados com overlay visual
- **Responsividade**: Interface adapt√°vel para diferentes resolu√ß√µes
- **Acessibilidade**: Controles intuitivos com feedback visual claro

### üñµ **Escala Din√¢mica de UI e Responsividade**
Para manter propor√ß√µes em telas menores que Full HD, a interface aplica uma escala global baseada na resolu√ß√£o do monitor:

```
s = clamp(min(W/1920, H/1080), 0.9, 1.1)
```

Onde `W√óH` √© a resolu√ß√£o atual. O fator `s` √© aplicado via `tk scaling` (afetando fontes em pontos) e nas fontes nomeadas padr√£o do Tk. Na aba de inspe√ß√£o, o painel esquerdo abre com largura inicial ~15% maior e bot√µes recebem margens laterais para evitar contato com a borda.

### üìä **Sistema de Relat√≥rios**
- **Hist√≥rico de Inspe√ß√µes**: Registro completo de todas as verifica√ß√µes
- **Estat√≠sticas Avan√ßadas**: M√©tricas de performance e tend√™ncias
- **Filtros Din√¢micos**: Busca por modelo, data, resultado e confian√ßa
- **Exporta√ß√£o de Dados**: Suporte para m√∫ltiplos formatos de sa√≠da
- **Dashboard Analytics**: Visualiza√ß√µes gr√°ficas de performance
- **Auditoria Completa**: Rastreabilidade de todas as opera√ß√µes

---

## üÜï Novidades da Vers√£o 2.1

### üì± **Modo Tablet Revolucion√°rio**
- **Interface em Tela Cheia**: Modo dedicado para opera√ß√£o remota
- **Captura Inteligente**: Sistema que sempre captura novas imagens
- **Status Bar Din√¢mico**: Resultado geral vis√≠vel em tempo real
- **Multi-Programa Robusto**: Funciona mesmo com falhas de c√¢mera
- **Logs Detalhados**: Diagn√≥stico completo para troubleshooting

### üîß **Sistema de Depend√™ncias Otimizado**
- **Requirements M√∫ltiplos**: 3 arquivos para diferentes cen√°rios
- **Instala√ß√£o Flex√≠vel**: M√≠nima, completa ou desenvolvimento
- **60% Menor**: Apenas depend√™ncias realmente utilizadas
- **Documenta√ß√£o Completa**: Guia de instala√ß√£o e solu√ß√£o de problemas

### üöÄ **Melhorias de Performance**
- **Captura Robusta**: Fallbacks inteligentes para falhas de c√¢mera
- **Sistema Dual Melhorado**: Captura simult√¢nea mais est√°vel
- **Logs Inteligentes**: Diagn√≥stico autom√°tico de problemas
- **Recupera√ß√£o Autom√°tica**: Reset autom√°tico de c√¢meras problem√°ticas

---

## üèóÔ∏è Arquitetura do Sistema

### üìê **Arquitetura Modular**

```mermaid
graph TB
    A[main.py] --> B[montagem.py]
    A --> C[database_manager.py]
    A --> D[camera_manager.py]
    
    B --> E[inspection.py]
    B --> F[ml_classifier.py]
    B --> G[training_dialog.py]
    
    C --> H[SQLite Database]
    D --> I[Camera Cache]
    
    E --> J[OpenCV Algorithms]
    F --> K[Scikit-learn ML]
    G --> L[Training Pipeline]
    
    B --> M[UI Components]
    M --> N[ttkbootstrap]
    M --> O[Tkinter]
```

### üîß **M√≥dulos Principais**

#### **`main.py`** - Ponto de Entrada
- Inicializa√ß√£o do sistema
- Gerenciamento de m√≥dulos
- Tratamento de erros global

#### **`montagem.py`** - N√∫cleo do Sistema
- Interface principal de montagem
- Coordena√ß√£o entre m√≥dulos
- Gerenciamento de estado global

#### **`database_manager.py`** - Persist√™ncia de Dados
- CRUD de modelos e slots
- Hist√≥rico de inspe√ß√µes
- Backup e migra√ß√£o de dados

#### **`camera_manager.py`** - Gerenciamento de C√¢meras
- Detec√ß√£o autom√°tica de dispositivos
- Cache inteligente de inst√¢ncias
- Configura√ß√£o de par√¢metros

#### **`ml_classifier.py`** - Machine Learning
- Classificadores Random Forest e SVM
- Extra√ß√£o de caracter√≠sticas
- Treinamento e valida√ß√£o

#### **`inspection.py`** - Algoritmos de Inspe√ß√£o
- Template matching avan√ßado
- Feature detection ORB
- Transforma√ß√µes geom√©tricas

#### **`training_dialog.py`** - Interface de Treinamento
- Coleta de amostras OK/NG
- Configura√ß√£o de par√¢metros
- Valida√ß√£o de modelos

#### **`utils.py`** - Utilit√°rios do Sistema
- Configura√ß√£o de estilos
- Gerenciamento de cores e fontes
- Fun√ß√µes auxiliares

---

## üßÆ Algoritmos e Tecnologias

### üîç **Template Matching**

#### **Correla√ß√£o Cruzada Normalizada**
```
Œ≥(u,v) = Œ£[T(x,y) - TÃÑ][I(x+u,y+v) - ƒ™(u,v)] / ‚àö{Œ£[T(x,y) - TÃÑ]¬≤ ¬∑ Œ£[I(x+u,y+v) - ƒ™(u,v)]¬≤}
```

**Implementa√ß√£o OpenCV:**
```python
# M√∫ltiplos m√©todos dispon√≠veis
methods = [
    cv2.TM_CCOEFF_NORMED,    # Correla√ß√£o cruzada normalizada
    cv2.TM_CCORR_NORMED,     # Correla√ß√£o normalizada
    cv2.TM_SQDIFF_NORMED     # Diferen√ßa quadrada normalizada
]

result = cv2.matchTemplate(image, template, method)
locations = np.where(result >= threshold)
```

### üéØ **Feature Detection (ORB)**

#### **Algoritmo FAST (Features from Accelerated Segment Test)**
Para um pixel `p` com intensidade `Ip`:
```
‚àÉ conjunto S de n pixels cont√≠guos no c√≠rculo de 16 pixels tal que:
‚àÄ pixel x ‚àà S: |Ix - Ip| > t
```

**Par√¢metros ORB Otimizados:**
```python
orb = cv2.ORB_create(
    nfeatures=5000,           # M√°ximo de features
    scaleFactor=1.2,          # Fator de escala da pir√¢mide
    nlevels=8,                # N√≠veis da pir√¢mide
    edgeThreshold=31,         # Tamanho da borda
    firstLevel=0,             # Primeiro n√≠vel da pir√¢mide
    WTA_K=2,                  # Pontos para produzir elementos BRIEF
    scoreType=cv2.ORB_HARRIS_SCORE,
    patchSize=31,             # Tamanho do patch para descritor
    fastThreshold=20          # Threshold FAST
)
```

### üîÑ **RANSAC (Random Sample Consensus)**

#### **Estimativa de Homografia**
1. **Sele√ß√£o Aleat√≥ria**: Escolher 4 pontos correspondentes
2. **Modelo**: Calcular homografia usando DLT
3. **Consenso**: Contar inliers usando dist√¢ncia de reproje√ß√£o
4. **Itera√ß√£o**: Repetir N vezes

**Implementa√ß√£o:**
```python
H, mask = cv2.findHomography(
    src_pts, dst_pts, 
    cv2.RANSAC, 
    ransacReprojThreshold=5.0,
    maxIters=2000,
    confidence=0.995
)
```

#### Formaliza√ß√£o da homografia e retifica√ß√£o

Seja um ponto homog√™neo \(x = (x, y, 1)^T\). Entre imagens de um plano, vale \(x' \sim Hx\), onde \(H \in \mathbb{R}^{3\times3}\) √© determinada por 4+ correspond√™ncias. Ap√≥s estimar \(H\) com RANSAC, projetamos ROIs retangulares via:

```
corners = [(x, y), (x+w, y), (x+w, y+h), (x, y+h)]
transformed = perspectiveTransform(corners, H)
bbox = [min_x, min_y, max_x-min_x, max_y-min_y]
```

### ü§ñ **Machine Learning**

#### **Extra√ß√£o de Caracter√≠sticas (39+ features)**
```python
# 1. Caracter√≠sticas Estat√≠sticas (7)
features.extend([
    np.mean(gray),           # M√©dia da intensidade
    np.std(gray),            # Desvio padr√£o
    np.min(gray),            # Valor m√≠nimo
    np.max(gray),            # Valor m√°ximo
    np.median(gray),         # Mediana
    np.percentile(gray, 25), # Primeiro quartil
    np.percentile(gray, 75), # Terceiro quartil
])

# 2. Histograma Normalizado (32 bins)
hist = cv2.calcHist([gray], [0], None, [32], [0, 256])
hist = hist.flatten() / hist.sum()

# 3. Caracter√≠sticas de Textura (LBP)
# 4. Caracter√≠sticas de Contorno
# 5. Caracter√≠sticas de Gradiente
```

#### **Classificadores Dispon√≠veis**
- **Random Forest**: Para classifica√ß√£o geral com boa interpretabilidade
- **Support Vector Machine**: Para casos complexos com margem √≥tima

#### **Valida√ß√£o Cruzada**
```python
# K-Fold Cross Validation
scores = cross_val_score(classifier, X, y, cv=5)
cv_score = scores.mean()
cv_std = scores.std()
```

#### Observa√ß√µes sobre robustez e reprodutibilidade

- Escalonamento: `StandardScaler` em todas as features cont√≠nuas.
- Controle de vari√¢ncia: K‚ÄëFold quando h√° amostras suficientes; em bases pequenas, hold‚Äëout estratificado.
- Rastreamento: modelos por slot (`.joblib`) com metadados de vers√£o e nomes de features.

### üìä **M√©tricas de Avalia√ß√£o**

#### **M√©tricas Cl√°ssicas**
```
Accuracy = (TP + TN) / (TP + TN + FP + FN)
Precision = TP / (TP + FP)
Recall = TP / (TP + FN)
F1-Score = 2 ¬∑ (Precision ¬∑ Recall) / (Precision + Recall)
```

#### **Valida√ß√£o Cruzada K-Fold**
```
CV_Score = (1/k) ¬∑ Œ£(Accuracy_i)
```

### üß™ Metodologia e Reprodutibilidade

- Pipeline: captura ‚Üí alinhamento (ORB+RANSAC) ‚Üí ROI por slot ‚Üí template matching ou ML ‚Üí registro no banco.
- Template matching: correla√ß√£o normalizada; redimensionamento do template para caber na ROI; limiar ajustado por amostras, usando separa√ß√£o m√≠nima OK√óNG e m√©dia OK com margem.
- Classifica√ß√£o ML: 66 features (estat√≠sticas, histograma 32, LBP 16, contorno, gradiente); `StandardScaler`; Random Forest (padr√£o) ou SVM; valida√ß√£o cruzada K-fold (k=5 quando poss√≠vel).
- Boas pr√°ticas: ‚â•10 amostras por classe/slot; relatar accuracy/precision/recall/F1; evitar vazamento entre treino/valida√ß√£o; salvar modelos `.joblib` por slot.
- Reprodutibilidade: vers√µes fixadas em `requirements.txt`; caminhos relativos em `modelos/`; execu√ß√£o com `--debug` para auditoria.

---

## üß† Fundamentos Cient√≠ficos (por que funciona)

- **Forma√ß√£o de imagem (pinhole/c√¢mera fina)**: cada pixel amostra a irradi√¢ncia projetada por uma transforma√ß√£o projetiva. A rela√ß√£o entre planos √© modelada por homografia em cenas planas e por pose 3D em geral.
- **Amostragem e Nyquist**: para evitar aliasing, a frequ√™ncia espacial m√°xima da cena deve ser ‚â§ metade da frequ√™ncia de amostragem do sensor. Na pr√°tica, definimos ROI e redimensionamos para manter textura relevante acima do ru√≠do.
- **MTF, SNR e ru√≠do**: contraste transferido (MTF) e rela√ß√£o sinal‚Äëru√≠do (SNR) determinam a detectabilidade. O sistema reduz vari√¢ncia de ru√≠do (m√©dia m√≥vel/INTER_AREA), fixa ganho e controla exposi√ß√£o para maximizar SNR sem satura√ß√£o.
- **Modelo de cor e invari√¢ncia**: trabalhamos em espa√ßos RGB/HSV/Lab conforme a tarefa. Normaliza√ß√£o fotom√©trica (equaliza√ß√£o local/opcional) e controle de balan√ßo de branco mitigam varia√ß√µes de ilumina√ß√£o.
- **Geometria computacional**: ORB + RANSAC estimam transforma√ß√µes; homografia alinha refer√™ncia‚Üîteste; template matching opera ap√≥s alinhamento para robustez.
- **Valida√ß√£o estat√≠stica**: thresholds e modelos ML s√£o validados por K‚ÄëFold; reportamos accuracy/precision/recall/F1, podendo tra√ßar ROC/PR e AUC. Para ambiente industrial, recomenda‚Äëse MSA (Gage R&R) aplicado a vis√£o para repetir/replicar medi√ß√µes.

Nota sobre UI: a escala \(s\) definida acima mant√©m a leitura consistente em monitores com DPI/√°rea √∫til distintos, aproximando a experi√™ncia de 1920√ó1080 e reduzindo variabilidade humana durante opera√ß√£o.

> Insight chave: vis√£o computacional √©, primordialmente, software/algoritmo. Melhor lente/sensor ajuda, mas o que garante repetibilidade e robustez √© o pipeline (pr√©‚Äëprocessamento, alinhamento, extra√ß√£o de evid√™ncia e decis√£o com valida√ß√£o estat√≠stica).

---

## üè≠ Ind√∫stria 4.0 e Integra√ß√£o

- **Sistemas ciber‚Äëf√≠sicos**: aquisi√ß√£o no bordo (edge), processamento local e publica√ß√£o de resultados para o ch√£o de f√°brica.
- **Integra√ß√£o**: suporte planejado a `MQTT/OPC‚ÄëUA/REST` para MES/SCADA; rastreabilidade via banco (hist√≥rico de imagens e metadados).
- **Qualidade e OEE**: resultados por lote/ordem de produ√ß√£o alimentam KPIs (FPY, scrap rate) e permitem SPC (controle estat√≠stico de processo).
- **Manuten√ß√£o preditiva**: logs de falhas e drifts alimentam data lake/ML para antecipar degrada√ß√£o (ex.: ilumina√ß√£o, foco, sujeira de lente).

---

## üöó Estudo de Caso: por que a Tesla prioriza vis√£o por c√¢meras

Fabricantes como a Tesla demonstram que um stack de percep√ß√£o baseado majoritariamente em c√¢meras alcan√ßa alto desempenho quando h√°:

- calibra√ß√£o multi‚Äëc√¢mera, sincroniza√ß√£o temporal e fus√£o; 
- algoritmos de percep√ß√£o robustos (ocupancy/segmenta√ß√£o/estimativa de movimento);
- grandes volumes de dados anotados e feedback de campo (data engine);
- forte engenharia de software para padronizar pr√©‚Äëprocessamento e normaliza√ß√£o.

Paralelo com este projeto: nosso foco √© a engenharia do pipeline e a repetibilidade estat√≠stica. A c√¢mera √© um componente; o resultado deriva da consist√™ncia do processo (ilumina√ß√£o controlada, exposi√ß√£o est√°vel, software determin√≠stico e valida√ß√£o cont√≠nua).

Boas pr√°ticas de aquisi√ß√£o (independentes do modelo de c√¢mera)
- **Exposi√ß√£o/Ganho**: prefira exposi√ß√£o fixa e ganho baixo; evite auto‚Äëexposure em esteiras com varia√ß√£o brusca de luz.
- **√ìptica**: use foco fixo e dist√¢ncia controlada; evite zoom vari√°vel.
- **Ilumina√ß√£o**: padronize temperatura/cintila√ß√£o; use difusores; evite reflexos especulares na ROI.
- **Geometria**: mantenha pe√ßa e c√¢mera com rela√ß√£o r√≠gida; se houver varia√ß√£o, alinhe via homografia (como implementado).

---

## üîå C√¢meras, Backends e Vari√°veis de Ambiente

- Windows: preferencial `DirectShow (DSHOW)` com mapeamento de auto‚Äëexposi√ß√£o correto (auto=0.75, manual=0.25); fallback `MSMF` (auto=1, manual=0).
- Linux/Raspberry Pi: suporte a `V4L2` (webcams) e `libcamera` via GStreamer (`libcamerasrc`).

Vari√°veis de ambiente (sobrep√µem `config/style_config.json`):
```bash
# Seleciona backend e par√¢metros de captura
DX_CAMERA_BACKEND=AUTO|LIBCAMERA|V4L2
DX_CAMERA_WIDTH=1280
DX_CAMERA_HEIGHT=720
DX_CAMERA_FPS=30
```

Guia r√°pido Raspberry Pi
- Libcamera (recomendado): `sudo apt install gstreamer1.0-libcamera gstreamer1.0-tools gstreamer1.0-plugins-good gstreamer1.0-plugins-bad libcamera-apps`
- V4L2 bridge (opcional p/ apps por √≠ndice): `sudo apt install v4l2loopback-dkms libcamera-bridge && sudo modprobe v4l2loopback devices=1 video_nr=0 exclusive_caps=1 && libcamera-bridge -v 0 &`

---

## üß™ Multi‚Äëmodelo lado a lado (UI)

- 2 modelos: composi√ß√£o lado a lado autom√°tica.
- 3 modelos: 2 acima + 1 abaixo.
- 4+ modelos: grid adaptativo.
- Resultado fixo no canvas por 15s (ou at√© nova an√°lise), sem sobreposi√ß√£o da imagem base.


---

## ‚öôÔ∏è Requisitos do Sistema

### üíª **Requisitos M√≠nimos**
- **Python**: 3.8 ou superior (recomendado 3.11+)
- **Sistema Operacional**: Windows 10/11, Linux (Ubuntu 20.04+), macOS 12+
- **Mem√≥ria RAM**: M√≠nimo 4GB (recomendado 8GB+)
- **Processador**: Intel i5 ou equivalente (recomendado i7/i9 ou AMD Ryzen 5+)
- **Armazenamento**: M√≠nimo 2GB livre (recomendado 10GB+)

### üìπ **Requisitos de Hardware**
- **C√¢mera**: Webcam USB, c√¢mera industrial ou IP camera compat√≠vel
- **Resolu√ß√£o**: M√≠nimo 640x480 (recomendado 1920x1080 ou superior)
- **FPS**: M√≠nimo 15 FPS (recomendado 30 FPS)
- **GPU**: Opcional, mas recomendado para processamento acelerado

### üîß **Requisitos de Software**
- **OpenCV**: 4.8.1.78 ou superior
- **NumPy**: 1.24.3 ou superior
- **Scikit-learn**: 1.3.0 ou superior
- **Tkinter**: m√≥dulo padr√£o do Python (UI via `ttkbootstrap`)

---

## üöÄ Instala√ß√£o e Configura√ß√£o

### 1Ô∏è‚É£ **Prepara√ß√£o do Ambiente**

```bash
# Verificar vers√£o do Python
python --version
# Deve ser 3.8 ou superior

# Criar ambiente virtual (recomendado)
python -m venv venv

# Ativar ambiente virtual
# Windows:
venv\Scripts\activate
# Linux/Mac:
source venv/bin/activate
```

### 2Ô∏è‚É£ **Instala√ß√£o das Depend√™ncias**

```bash
# Atualizar pip
pip install --upgrade pip

# Instalar depend√™ncias principais
pip install -r requirements.txt

# Verificar instala√ß√£o
python -c "import cv2, ttkbootstrap, numpy, sklearn; print('‚úÖ Instala√ß√£o bem-sucedida!')"
```

---

## üì¶ Sistema de Depend√™ncias

Este projeto utiliza um sistema de depend√™ncias inteligente e flex√≠vel, com tr√™s arquivos de configura√ß√£o para diferentes cen√°rios de uso.

### üéØ **Arquivos de Depend√™ncias**

#### **`requirements-minimal.txt`** - Instala√ß√£o M√≠nima
```bash
# Para produ√ß√£o b√°sica (funcionalidades essenciais)
pip install -r requirements-minimal.txt
```
**Inclui**: Interface gr√°fica, vis√£o computacional b√°sica, machine learning essencial

#### **`requirements.txt`** - Instala√ß√£o Completa (Recomendado)
```bash
# Para produ√ß√£o completa (todas as funcionalidades)
pip install -r requirements.txt
```
**Inclui**: Todas as depend√™ncias m√≠nimas + processamento avan√ßado de imagem, Excel

#### **`requirements-dev.txt`** - Desenvolvimento
```bash
# Para desenvolvimento (inclui ferramentas de qualidade)
pip install -r requirements-dev.txt
```
**Inclui**: Todas as depend√™ncias de produ√ß√£o + testes, linting, documenta√ß√£o

### üìä **Compara√ß√£o de Depend√™ncias**

| Categoria | M√≠nimo | Completo | Desenvolvimento |
|-----------|--------|----------|-----------------|
| **Interface** | ‚úÖ ttkbootstrap | ‚úÖ ttkbootstrap | ‚úÖ ttkbootstrap |
| **Vis√£o Computacional** | ‚úÖ opencv-python, Pillow, numpy | ‚úÖ + scikit-image | ‚úÖ + scikit-image |
| **Machine Learning** | ‚úÖ scikit-learn, joblib | ‚úÖ scikit-learn, joblib | ‚úÖ scikit-learn, joblib |
| **Dados** | ‚ùå | ‚úÖ openpyxl | ‚úÖ openpyxl |
| **Testes** | ‚ùå | ‚ùå | ‚úÖ pytest, flake8, black |
| **Documenta√ß√£o** | ‚ùå | ‚ùå | ‚úÖ sphinx, mypy |

### üöÄ **Instala√ß√£o R√°pida**

```bash
# 1. Clone o reposit√≥rio
git clone <repository-url>
cd v2-main

# 2. Crie ambiente virtual (recomendado)
python -m venv venv
source venv/bin/activate  # Linux/macOS
venv\Scripts\activate     # Windows

# 3. Instale depend√™ncias (escolha uma op√ß√£o)
pip install -r requirements.txt        # Produ√ß√£o completa
pip install -r requirements-minimal.txt # Produ√ß√£o b√°sica
pip install -r requirements-dev.txt     # Desenvolvimento

# 4. Verifique a instala√ß√£o
python -c "import cv2, numpy, ttkbootstrap, sklearn; print('‚úÖ Instala√ß√£o bem-sucedida!')"
```

### üîß **Depend√™ncias Nativas do Python**

Muitas funcionalidades usam bibliotecas nativas que **n√£o precisam ser instaladas**:
- `pathlib`, `tkinter`, `sqlite3`, `json`, `os`, `sys`, `time`, `datetime`
- `threading`, `platform`, `logging`, `shutil`, `argparse`, `traceback`

### üìà **Benef√≠cios do Novo Sistema**

‚úÖ **60% menor** que vers√µes anteriores  
‚úÖ **Apenas depend√™ncias realmente utilizadas**  
‚úÖ **Instala√ß√£o flex√≠vel** para diferentes cen√°rios  
‚úÖ **Separa√ß√£o clara** entre produ√ß√£o e desenvolvimento  
‚úÖ **Documenta√ß√£o completa** de instala√ß√£o  
‚úÖ **Solu√ß√£o de problemas** inclu√≠da  

### üìñ **Documenta√ß√£o Detalhada**

Para informa√ß√µes completas sobre instala√ß√£o, consulte:
- **`INSTALACAO_DEPENDENCIAS.md`** - Guia completo de instala√ß√£o
- **`requirements-*.txt`** - Arquivos de depend√™ncias comentados

---

## üì¶ Build em EXE (Windows)

Este projeto pode ser empacotado em execut√°vel √∫nico (.exe) com o PyInstaller para rodar em m√°quinas sem Python.

1) Criar venv e instalar depend√™ncias
```powershell
python -m venv .venv
.venv\Scripts\python -m ensurepip --upgrade
.venv\Scripts\python -m pip install --upgrade pip wheel setuptools
.venv\Scripts\python -m pip install -r requirements.txt
.venv\Scripts\python -m pip install pyinstaller
```

2) Gerar execut√°veis
```powershell
# Vers√£o onefile, sem console (uso final)
.venv\Scripts\pyinstaller --name DX-Inspecao --onefile --noconsole ^
  --paths modulos ^
  --hidden-import montagem --hidden-import utils ^
  --add-data "assets;assets" --add-data "config;config" --add-data "modelos;modelos" ^
  main.py

# Vers√£o com console (debug)
.venv\Scripts\pyinstaller --name DX-Inspecao-Console --console ^
  --paths modulos ^
  --hidden-import montagem --hidden-import utils ^
  --add-data "assets;assets" --add-data "config;config" --add-data "modelos;modelos" ^
  main.py
```

3) Onde fica o execut√°vel
- Sem console: `dist\DX-Inspecao.exe`
- Com console: `dist\DX-Inspecao-Console\DX-Inspecao-Console.exe`

4) Observa√ß√µes importantes
- Em modo congelado, os diret√≥rios `assets`, `config` e `modelos` s√£o disponibilizados ao lado do .exe automaticamente.
- Logs s√£o gravados como `run.log` ao lado do .exe quando executado com `--debug`.
- Se quiser √≠cone, adicione `assets/dx_project_logo.ico` e use `--icon assets\\dx_project_logo.ico`.

### 3Ô∏è‚É£ **Execu√ß√£o do Sistema**

```bash
# Execu√ß√£o principal
python main.py

# Execu√ß√£o direta do m√≥dulo de montagem
python -m modulos.montagem

# Execu√ß√£o com debug
python main.py --debug
```

### 4Ô∏è‚É£ **Configura√ß√£o Inicial**

1. **Primeira Execu√ß√£o**: O sistema criar√° automaticamente a estrutura de diret√≥rios
2. **Configura√ß√£o de C√¢mera**: Use "Detectar C√¢meras" no m√≥dulo de Montagem
3. **Cria√ß√£o de Modelos**: Comece criando um modelo de refer√™ncia
4. **Defini√ß√£o de Slots**: Use o editor visual para definir √°reas de inspe√ß√£o

---

## üìÅ Estrutura do Projeto

```
v2-main/
‚îú‚îÄ‚îÄ üìÑ main.py                    # Ponto de entrada principal
‚îú‚îÄ‚îÄ üìã requirements.txt           # Depend√™ncias do projeto
‚îú‚îÄ‚îÄ üìñ README.md                  # Documenta√ß√£o principal
‚îú‚îÄ‚îÄ üìö DOCUMENTACAO_TECNICA.md   # Documenta√ß√£o t√©cnica detalhada
‚îú‚îÄ‚îÄ üé® CORES_CENTRALIZADAS.md    # Guia de cores e estilos
‚îú‚îÄ‚îÄ üçì RASPBERRY_PI_OPTIMIZATION.md # Otimiza√ß√µes para Raspberry Pi
‚îÇ
‚îú‚îÄ‚îÄ üñºÔ∏è assets/                    # Recursos visuais
‚îÇ   ‚îú‚îÄ‚îÄ dx_project_logo.png      # Logo principal
‚îÇ   ‚îú‚îÄ‚îÄ dx_project_logo.svg      # Logo em SVG
‚îÇ   ‚îú‚îÄ‚îÄ honda_logo.svg           # Logo da marca
‚îÇ   ‚îî‚îÄ‚îÄ logo.svg                 # Logo do sistema
‚îÇ
‚îú‚îÄ‚îÄ ‚öôÔ∏è config/                    # Configura√ß√µes do sistema
‚îÇ   ‚îî‚îÄ‚îÄ style_config.json        # Configura√ß√£o de estilos
‚îÇ
‚îú‚îÄ‚îÄ üß™ Imagem de teste/          # Imagens para testes
‚îÇ   ‚îú‚îÄ‚îÄ NG - Copia.JPG          # Exemplo com defeito
‚îÇ   ‚îú‚îÄ‚îÄ NG.JPG                  # Exemplo com defeito
‚îÇ   ‚îî‚îÄ‚îÄ OK.jpg                  # Exemplo aprovado
‚îÇ
‚îú‚îÄ‚îÄ üèóÔ∏è modelos/                   # Modelos e templates
‚îÇ   ‚îú‚îÄ‚îÄ _samples/               # Amostras de treinamento
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ model_unknown/      # Modelo desconhecido
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ slot_1_samples/     # Amostras do slot 1
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ slot_2_samples/     # Amostras do slot 2
‚îÇ   ‚îú‚îÄ‚îÄ _templates/             # Templates de refer√™ncia
‚îÇ   ‚îú‚îÄ‚îÄ 1_33/                   # Modelo espec√≠fico 1-33
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 1_reference.jpg     # Imagem de refer√™ncia
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ templates/          # Templates do modelo
‚îÇ   ‚îú‚îÄ‚îÄ a_29/                   # Modelo espec√≠fico A-29
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ a_reference.jpg     # Imagem de refer√™ncia
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ml_model_slot_1.joblib # Modelo ML treinado
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ templates/          # Templates e amostras
‚îÇ   ‚îú‚îÄ‚îÄ b_34/                   # Modelo espec√≠fico B-34
‚îÇ   ‚îú‚îÄ‚îÄ historico_fotos/        # Hist√≥rico de fotos
‚îÇ   ‚îî‚îÄ‚îÄ n_35/                   # Modelo espec√≠fico N-35
‚îÇ
‚îú‚îÄ‚îÄ üîß modulos/                   # M√≥dulos do sistema
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py             # Inicializa√ß√£o do pacote
‚îÇ   ‚îú‚îÄ‚îÄ camera_manager.py       # Gerenciamento de c√¢meras
‚îÇ   ‚îú‚îÄ‚îÄ database_manager.py     # Gerenciamento de banco de dados
‚îÇ   ‚îú‚îÄ‚îÄ dialogs.py              # Di√°logos do sistema
‚îÇ   ‚îú‚îÄ‚îÄ history_ui.py           # Interface de hist√≥rico
‚îÇ   ‚îú‚îÄ‚îÄ image_optimizer.py      # Otimiza√ß√£o de imagens
‚îÇ   ‚îú‚îÄ‚îÄ image_utils.py          # Utilit√°rios de imagem
‚îÇ   ‚îú‚îÄ‚îÄ inspection_ui.py        # Interface de inspe√ß√£o
‚îÇ   ‚îú‚îÄ‚îÄ inspection_window.py    # Janela de inspe√ß√£o
‚îÇ   ‚îú‚îÄ‚îÄ inspection.py           # Algoritmos de inspe√ß√£o
‚îÇ   ‚îú‚îÄ‚îÄ mesh_editor.py          # Editor de malhas
‚îÇ   ‚îú‚îÄ‚îÄ ml_classifier.py        # Classificador de ML
‚îÇ   ‚îú‚îÄ‚îÄ model_selector.py       # Seletor de modelos
‚îÇ   ‚îú‚îÄ‚îÄ montagem.py             # M√≥dulo principal de montagem
‚îÇ   ‚îú‚îÄ‚îÄ montagem_backup.py      # Sistema de backup
‚îÇ   ‚îú‚îÄ‚îÄ paths.py                # Gerenciamento de caminhos
‚îÇ   ‚îú‚îÄ‚îÄ training_dialog.py      # Di√°logo de treinamento
‚îÇ   ‚îî‚îÄ‚îÄ utils.py                # Utilit√°rios e configura√ß√µes
‚îÇ
‚îî‚îÄ‚îÄ üõ†Ô∏è tools/                    # Ferramentas auxiliares
    ‚îî‚îÄ‚îÄ check_db.py             # Verifica√ß√£o de banco de dados
```

---

## üéÆ Guia de Uso

### üöÄ **In√≠cio R√°pido**

1. **Executar o Sistema**
   ```bash
   python main.py
   ```

2. **Configurar C√¢mera**
   - Selecione a c√¢mera desejada no dropdown
   - Ajuste resolu√ß√£o e FPS conforme necess√°rio

3. **Carregar Modelo**
   - Clique em "Carregar Modelo"
   - Selecione um arquivo de modelo existente
   - Ou crie um novo modelo

4. **Executar Inspe√ß√£o**
   - Clique em "Iniciar Inspe√ß√£o"
   - O sistema processar√° a imagem automaticamente
   - Resultados aparecer√£o em tempo real

### üì± **Modo Tablet (NOVO)**

O **Modo Tablet** √© uma funcionalidade revolucion√°ria que oferece uma interface em tela cheia para opera√ß√£o remota e apresenta√ß√µes.

#### **Ativa√ß√£o do Modo Tablet**
1. Na aba de inspe√ß√£o, clique no bot√£o **"üì± MODO TABLET (Tela Cheia)"**
2. Uma nova janela abrir√° em tela cheia
3. A imagem da pe√ßa ser√° exibida com demarca√ß√µes e resultados

#### **Opera√ß√£o no Modo Tablet**
- **Pressione `Enter`** para capturar uma nova imagem e executar inspe√ß√£o
- **Pressione `Escape`** para sair do modo tablet
- **Status Bar** mostra resultado geral (APROVADO/REPROVADO) em tempo real
- **Multi-Programa** funciona automaticamente se m√∫ltiplos programas estiverem selecionados

#### **Caracter√≠sticas do Modo Tablet**
- **Interface em Tela Cheia**: Ideal para opera√ß√£o remota e apresenta√ß√µes
- **Captura Consecutiva**: Sempre captura novas imagens ao pressionar Enter
- **Status Din√¢mico**: Barra de status com cores (verde=APROVADO, vermelho=REPROVADO)
- **Fallback Robusto**: Funciona mesmo com falhas de c√¢mera
- **Logs Detalhados**: Diagn√≥stico completo no console

#### **Cen√°rios de Uso**
- **Controle Remoto**: Opera√ß√£o a dist√¢ncia da esta√ß√£o de trabalho
- **Apresenta√ß√µes**: Demonstra√ß√£o para clientes e equipes
- **Treinamento**: Ensino de operadores em tela grande
- **Monitoramento**: Acompanhamento cont√≠nuo de produ√ß√£o

### üîç **Inspe√ß√£o de Componentes**

#### **Configura√ß√£o de Slots**
1. **Definir √Åreas**: Use o editor visual para marcar regi√µes de interesse
2. **Configurar Par√¢metros**: Ajuste thresholds e m√©todos de detec√ß√£o
3. **Salvar Configura√ß√£o**: Armazene as configura√ß√µes para uso futuro

#### **Execu√ß√£o de Inspe√ß√£o**
1. **Captura de Imagem**: Sistema captura automaticamente da c√¢mera
2. **Processamento**: Aplica algoritmos de template matching e ML
3. **Resultados**: Exibe resultados com confian√ßa e visualiza√ß√£o

### üß† **Machine Learning**

#### **Coleta de Amostras**
1. **Amostras OK**: Capture imagens de componentes corretos
2. **Amostras NG**: Capture imagens de componentes com defeitos
3. **Valida√ß√£o**: Sistema valida automaticamente a qualidade das amostras

#### **Treinamento de Modelos**
1. **Configurar Par√¢metros**: Ajuste algoritmos e thresholds
2. **Executar Treinamento**: Sistema treina automaticamente
3. **Validar Performance**: M√©tricas de acur√°cia e precis√£o

### üìä **An√°lise de Resultados**

#### **Hist√≥rico de Inspe√ß√µes**
- **Filtros**: Por data, modelo, resultado
- **Estat√≠sticas**: Taxa de aprova√ß√£o, tend√™ncias
- **Exporta√ß√£o**: Dados em m√∫ltiplos formatos

#### **Relat√≥rios**
- **Tempo Real**: M√©tricas atualizadas continuamente
- **Gr√°ficos**: Visualiza√ß√µes de performance
- **Alertas**: Notifica√ß√µes para problemas detectados

### üè† **Dashboard Principal**

O sistema apresenta uma interface unificada com tr√™s abas principais:

1. **üèóÔ∏è Montagem**: Verifica√ß√£o de componentes montados
2. **üìä Hist√≥rico**: An√°lise de resultados e relat√≥rios
3. **üîß Configura√ß√µes**: Ajustes do sistema e c√¢meras

### üîç **M√≥dulo de Montagem**

#### **Cria√ß√£o de Modelos**
1. **Novo Modelo**: Clique em "Novo Modelo" e defina um nome
2. **Imagem de Refer√™ncia**: Carregue uma imagem de refer√™ncia
3. **Defini√ß√£o de Slots**: Use o editor visual para definir √°reas de inspe√ß√£o
4. **Configura√ß√£o de Par√¢metros**: Ajuste thresholds e toler√¢ncias
5. **Treinamento**: Colete amostras OK e NG para treinar o modelo

#### **Editor Visual de Slots**
- **Desenho de Ret√¢ngulos**: Clique e arraste para criar √°reas de inspe√ß√£o
- **Configura√ß√£o de Slots**: Ajuste posi√ß√£o, tamanho e par√¢metros
- **Tipos de Inspe√ß√£o**: Presen√ßa/aus√™ncia, cor, forma, alinhamento
- **Toler√¢ncias**: Configure thresholds para diferentes crit√©rios

#### **Sistema de Treinamento**
1. **Coleta de Amostras**: Capture m√∫ltiplas imagens OK e NG
2. **Treinamento Autom√°tico**: O sistema calcula thresholds √≥timos
3. **Valida√ß√£o**: Teste o modelo com novas imagens
4. **Persist√™ncia**: Salve o modelo treinado para uso futuro

### üìä **M√≥dulo de Hist√≥rico**

#### **Visualiza√ß√£o de Dados**
- **Filtros Din√¢micos**: Por modelo, data, resultado e confian√ßa
- **Estat√≠sticas em Tempo Real**: M√©tricas de performance atualizadas
- **Visualiza√ß√£o Gr√°fica**: Gr√°ficos de tend√™ncias e distribui√ß√µes
- **Exporta√ß√£o**: Suporte para m√∫ltiplos formatos de sa√≠da

#### **An√°lise de Performance**
- **Taxa de Aprova√ß√£o**: Percentual de inspe√ß√µes aprovadas
- **Tend√™ncias Temporais**: Evolu√ß√£o da performance ao longo do tempo
- **An√°lise por Modelo**: Compara√ß√£o entre diferentes modelos
- **Detec√ß√£o de Anomalias**: Identifica√ß√£o de padr√µes an√¥malos

### üîß **M√≥dulo de Configura√ß√µes**

#### **Configura√ß√£o de C√¢meras**
- **Detec√ß√£o Autom√°tica**: Identifica√ß√£o de dispositivos dispon√≠veis
- **Configura√ß√£o de Par√¢metros**: Resolu√ß√£o, FPS, buffer
- **Teste de C√¢mera**: Verifica√ß√£o de funcionamento
- **Configura√ß√£o de M√∫ltiplas C√¢meras**: Suporte para setups complexos

#### **Configura√ß√£o de Estilos**
- **Temas Personaliz√°veis**: Cores, fontes e layouts
- **Configura√ß√£o de Interface**: Posicionamento e tamanho de elementos
- **Prefer√™ncias do Usu√°rio**: Configura√ß√µes persistentes
- **Modo Escuro/Claro**: Altern√¢ncia entre temas

---

## üîß Desenvolvimento e Extensibilidade

### üèóÔ∏è **Arquitetura Extens√≠vel**

O sistema foi projetado para facilitar a adi√ß√£o de novos m√≥dulos e funcionalidades:

#### **Estrutura de M√≥dulos**
```python
# Exemplo de novo m√≥dulo
from modulos.base_module import BaseModule

class NovoModulo(BaseModule):
    def __init__(self):
        super().__init__()
        self.setup_ui()
    
    def setup_ui(self):
        # Implementar interface do usu√°rio
        pass
    
    def process_data(self, data):
        # Implementar l√≥gica de processamento
        pass
```

#### **Sistema de Plugins**
- **Carregamento Din√¢mico**: M√≥dulos s√£o carregados automaticamente
- **Interface Padr√£o**: Todos os m√≥dulos seguem a mesma estrutura
- **Integra√ß√£o Autom√°tica**: Novos m√≥dulos aparecem no dashboard
- **Configura√ß√£o Centralizada**: Gerenciamento unificado de configura√ß√µes

### üîå **APIs e Interfaces**

#### **API de Banco de Dados**
```python
from modulos.database_manager import DatabaseManager

db = DatabaseManager()
modelos = db.list_modelos()
novo_modelo = db.save_modelo("Nome", "caminho/imagem.jpg", slots)
```

#### **API de C√¢meras**
```python
from modulos.camera_manager import detect_cameras, capture_image_from_camera

cameras = detect_cameras()
image = capture_image_from_camera(camera_index=0)
```

#### **API de Machine Learning**
```python
from modulos.ml_classifier import MLSlotClassifier

classifier = MLSlotClassifier()
classifier.train(training_samples)
result, confidence = classifier.predict(test_image)
```

### üß™ **Sistema de Testes**

#### **Testes Unit√°rios**
```bash
# Executar testes
python -m pytest tests/

# Com cobertura
python -m pytest --cov=modulos tests/
```

#### **Testes de Integra√ß√£o**
```bash
# Testar m√≥dulos espec√≠ficos
python -m pytest tests/test_montagem.py
python -m pytest tests/test_ml_classifier.py
```

---

## üõ†Ô∏è Solu√ß√£o de Problemas

### ‚ùå **Problemas Comuns**

#### **Erro de Importa√ß√£o de M√≥dulos**
```bash
# Verificar estrutura de diret√≥rios
ls -la modulos/

# Verificar __init__.py
cat modulos/__init__.py

# Testar importa√ß√£o individual
python -c "from modulos.montagem import create_main_window"
```

#### **C√¢mera N√£o Detectada**
```bash
# Windows: Executar como administrador
# Linux: Verificar permiss√µes
sudo usermod -a -G video $USER

# Testar com OpenCV
python -c "import cv2; cap = cv2.VideoCapture(0); print(cap.isOpened())"
```

#### **Erro de Banco de Dados**
```bash
# Verificar permiss√µes
ls -la modelos/

# Recriar banco se necess√°rio
rm modelos/models.db
# O banco ser√° recriado automaticamente
```

#### **Problemas de Performance**
```bash
# Reduzir resolu√ß√£o da c√¢mera
# Ajustar par√¢metros ORB
# Fechar aplicativos desnecess√°rios
```

### üì± **Problemas do Modo Tablet**

#### **Modo Tablet N√£o Abre**
```bash
# Verificar se ttkbootstrap est√° instalado
pip install ttkbootstrap

# Verificar logs no console
# Verificar se h√° erros de importa√ß√£o
```

#### **Captura N√£o Funciona no Modo Tablet**
```bash
# Verificar logs no console (muito detalhados)
# Verificar se a c√¢mera est√° funcionando
# Verificar se h√° conflitos de permiss√£o

# Reset autom√°tico da c√¢mera (implementado)
# O sistema tenta automaticamente m√∫ltiplos m√©todos de captura
```

#### **Multi-C√¢mera Falha no Modo Tablet**
```bash
# Verificar sistema dual de c√¢meras
# Logs mostram exatamente onde est√° falhando
# Fallback autom√°tico para captura sequencial

# Se persistir, verificar:
# - Drivers de c√¢mera
# - Permiss√µes de acesso
# - Conflitos com outros aplicativos
```

#### **Status Bar N√£o Atualiza**
```bash
# Verificar se a inspe√ß√£o est√° executando
# Verificar logs de resultado
# Verificar se h√° erros na interface
```

### üîç **Debugging Avan√ßado**

#### **Modo Debug**
```bash
# Executar com logs detalhados
python main.py --debug

# Definir vari√°veis de ambiente
export OPENCV_LOG_LEVEL=DEBUG  # Linux/Mac
set OPENCV_LOG_LEVEL=DEBUG     # Windows
```

#### **Logs do Sistema**
- **Windows**: Event Viewer
- **Linux**: `journalctl -f`
- **Console**: Logs detalhados em tempo real

#### **Logs do Modo Tablet**
O modo tablet agora inclui logs muito detalhados:
```bash
# Verificar logs de captura
# Verificar logs de sistema dual
# Verificar logs de fallback
# Verificar logs de inspe√ß√£o
```

### üîß **Problemas de Depend√™ncias**

#### **Erro de Instala√ß√£o**
```bash
# Usar requirements espec√≠ficos
pip install -r requirements-minimal.txt  # B√°sico
pip install -r requirements.txt          # Completo
pip install -r requirements-dev.txt      # Desenvolvimento

# Verificar vers√£o do Python (3.8+)
python --version

# Usar ambiente virtual
python -m venv venv
source venv/bin/activate  # Linux/macOS
venv\Scripts\activate     # Windows
```

#### **Conflitos de Vers√£o**
```bash
# Atualizar pip
pip install --upgrade pip

# Instalar vers√µes espec√≠ficas
pip install opencv-python==4.8.1.78
pip install ttkbootstrap==1.10.1

# Verificar depend√™ncias
pip list | grep -E "(opencv|ttkbootstrap|numpy|sklearn)"
```

### üö® **Problemas Cr√≠ticos**

#### **Sistema N√£o Inicia**
```bash
# Verificar depend√™ncias essenciais
python -c "import cv2, numpy, ttkbootstrap, sklearn; print('OK')"

# Verificar permiss√µes de arquivo
chmod +x main.py

# Verificar estrutura de diret√≥rios
ls -la modulos/
```

#### **C√¢mera Travada**
```bash
# O sistema agora tem reset autom√°tico
# Verificar logs para diagn√≥stico
# Reiniciar aplicativo se necess√°rio
# Verificar drivers de c√¢mera
```

#### **Performance Lenta**
```bash
# Reduzir resolu√ß√£o da c√¢mera
# Fechar aplicativos desnecess√°rios
# Verificar uso de CPU/mem√≥ria
# Ajustar par√¢metros de algoritmo
```

---

## üìà Performance e Otimiza√ß√£o

### ‚ö° **Otimiza√ß√µes de Performance**

#### **Processamento de Imagens**
- **Redimensionamento Inteligente**: Ajuste autom√°tico de resolu√ß√£o
- **Cache de Features**: Armazenamento de caracter√≠sticas calculadas
- **Processamento Paralelo**: Utiliza√ß√£o de m√∫ltiplos cores quando dispon√≠vel
- **Otimiza√ß√£o de Algoritmos**: Par√¢metros ajustados para velocidade vs. precis√£o

#### **Gerenciamento de Mem√≥ria**
- **Cache Inteligente**: Reutiliza√ß√£o de objetos quando poss√≠vel
- **Limpeza Autom√°tica**: Libera√ß√£o de recursos n√£o utilizados
- **Garbage Collection**: Otimiza√ß√£o do ciclo de vida de objetos
- **Monitoramento de Uso**: Acompanhamento de consumo de mem√≥ria

#### **Otimiza√ß√µes de C√¢mera**
- **Buffer Otimizado**: Configura√ß√£o de buffer para minimizar lat√™ncia
- **Resolu√ß√£o Adaptativa**: Ajuste autom√°tico baseado na performance
- **FPS Din√¢mico**: Ajuste de taxa de quadros baseado na carga
- **Cache de Inst√¢ncias**: Reutiliza√ß√£o de objetos de c√¢mera

### üéØ **Benchmarks e M√©tricas**

#### **Performance de Template Matching**
- **Tempo de Processamento**: < 100ms para imagens 1920x1080
- **Taxa de FPS**: 30+ FPS em hardware moderno
- **Precis√£o**: > 95% para templates bem treinados
- **Robustez**: Funciona com varia√ß√µes de ilumina√ß√£o e √¢ngulo

#### **Performance de Machine Learning**
- **Tempo de Treinamento**: < 5 segundos para 100 amostras
- **Tempo de Predi√ß√£o**: < 50ms por imagem
- **Acur√°cia**: > 90% com dados de treinamento adequados
- **Overfitting**: Prote√ß√£o contra overfitting com valida√ß√£o cruzada

---

## üó∫Ô∏è Roadmap

### üöÄ **Vers√£o Atual (v2.1) ‚úÖ**
- ‚úÖ Sistema de inspe√ß√£o de montagem avan√ßado
- ‚úÖ Interface gr√°fica moderna com Tkinter + ttkbootstrap
- ‚úÖ Banco de dados SQLite com backup autom√°tico
- ‚úÖ Template matching com m√∫ltiplos algoritmos
- ‚úÖ Sistema de treinamento com machine learning
- ‚úÖ Suporte a m√∫ltiplas c√¢meras (USB, Industrial, IP)
- ‚úÖ Interface responsiva com temas personaliz√°veis
- ‚úÖ Sistema de hist√≥rico e relat√≥rios avan√ßados
- ‚úÖ Editor visual de malhas de inspe√ß√£o
- ‚úÖ Valida√ß√£o cruzada e m√©tricas de avalia√ß√£o
- ‚úÖ Sistema de cache inteligente para c√¢meras
- ‚úÖ Configura√ß√£o visual avan√ßada de estilos
- ‚úÖ **Modo Tablet em Tela Cheia** (NOVO)
- ‚úÖ **Sistema de Depend√™ncias Otimizado** (NOVO)
- ‚úÖ **Captura Robusta com Fallbacks** (NOVO)
- ‚úÖ **Logs Detalhados para Diagn√≥stico** (NOVO)
- ‚úÖ **Status Bar Din√¢mico** (NOVO)
- ‚úÖ **Multi-Programa Robusto** (NOVO)

### üîÆ **Pr√≥ximas Vers√µes**

#### **v2.2 - Integra√ß√£o IoT e Industry 4.0** üîÑ
- **APIs REST**: Interface web para integra√ß√£o com sistemas externos
- **MQTT**: Comunica√ß√£o em tempo real com dispositivos IoT
- **OPC UA**: Integra√ß√£o com sistemas de automa√ß√£o industrial
- **Cloud Sync**: Sincroniza√ß√£o com plataformas na nuvem

#### **v2.3 - Aplicativo M√≥vel** üì±
- **Android/iOS**: Aplicativo nativo para monitoramento remoto
- **Push Notifications**: Alertas em tempo real
- **Offline Mode**: Funcionamento sem conex√£o
- **QR Code**: Configura√ß√£o r√°pida via c√≥digo QR

#### **v2.4 - Interface Web Corporativa** üåê
- **Dashboard Web**: Interface baseada em navegador
- **Multi-User**: Suporte para m√∫ltiplos usu√°rios
- **Role-Based Access**: Controle de acesso baseado em fun√ß√µes
- **Real-Time Updates**: Atualiza√ß√µes em tempo real via WebSocket

#### **v2.5 - Intelig√™ncia Artificial Avan√ßada** ü§ñ
- **Deep Learning**: Redes neurais convolucionais (CNN)
- **Transfer Learning**: Aproveitamento de modelos pr√©-treinados
- **Anomaly Detection**: Detec√ß√£o autom√°tica de anomalias
- **Predictive Analytics**: An√°lise preditiva de falhas

#### **v2.6 - Analytics Preditivos** üìä
- **Machine Learning Avan√ßado**: Algoritmos de ensemble
- **Time Series Analysis**: An√°lise de s√©ries temporais
- **Predictive Maintenance**: Manuten√ß√£o preditiva
- **Quality Forecasting**: Previs√£o de qualidade

#### **v2.7 - Sistema de Seguran√ßa** üîí
- **Authentication**: Autentica√ß√£o multi-fator
- **Authorization**: Controle de acesso granular
- **Audit Logging**: Registro completo de auditoria
- **Encryption**: Criptografia de dados sens√≠veis

### üéØ **Funcionalidades Implementadas na v2.1**

#### **üì± Modo Tablet Revolucion√°rio**
- Interface em tela cheia para opera√ß√£o remota
- Captura consecutiva com Enter
- Status bar din√¢mico com cores
- Suporte completo a multi-programa
- Fallbacks robustos para falhas de c√¢mera

#### **üîß Sistema de Depend√™ncias Inteligente**
- 3 arquivos de requirements para diferentes cen√°rios
- 60% menor que vers√µes anteriores
- Apenas depend√™ncias realmente utilizadas
- Documenta√ß√£o completa de instala√ß√£o

#### **üöÄ Melhorias de Performance**
- Captura robusta com m√∫ltiplos fallbacks
- Sistema dual de c√¢meras melhorado
- Logs detalhados para diagn√≥stico
- Recupera√ß√£o autom√°tica de c√¢meras

---

## üìû Suporte e Contribui√ß√£o

### üÜò **Suporte T√©cnico**

#### **Canais de Suporte**
- **GitHub Issues**: Para bugs e solicita√ß√µes de funcionalidades
- **Documenta√ß√£o**: Guias completos inclu√≠dos no projeto
- **Logs Detalhados**: Sistema de diagn√≥stico autom√°tico implementado

#### **Documenta√ß√£o Inclu√≠da**
- **`README.md`**: Este arquivo com guia completo
- **`INSTALACAO_DEPENDENCIAS.md`**: Guia detalhado de instala√ß√£o
- **`requirements-*.txt`**: Arquivos de depend√™ncias comentados
- **`DOCUMENTACAO_TECNICA.md`**: Documenta√ß√£o t√©cnica detalhada
- **`ARTIGO_CIENTIFICO_DX_V2.md`**: Artigo cient√≠fico sobre o sistema

### üîß **Solu√ß√£o de Problemas**

#### **Primeiros Passos**
1. **Verificar Depend√™ncias**: Use o sistema de requirements otimizado
2. **Consultar Logs**: O sistema agora inclui logs muito detalhados
3. **Verificar Documenta√ß√£o**: Guias completos inclu√≠dos
4. **Abrir Issue**: Se o problema persistir

#### **Sistema de Depend√™ncias**
```bash
# Para problemas de instala√ß√£o
pip install -r requirements-minimal.txt  # B√°sico
pip install -r requirements.txt          # Completo
pip install -r requirements-dev.txt      # Desenvolvimento

# Verificar instala√ß√£o
python -c "import cv2, numpy, ttkbootstrap, sklearn; print('‚úÖ OK')"
```

#### **Modo Tablet**
- **Logs Detalhados**: Cada opera√ß√£o √© logada no console
- **Fallbacks Autom√°ticos**: Sistema tenta m√∫ltiplos m√©todos de captura
- **Reset Autom√°tico**: C√¢meras problem√°ticas s√£o resetadas automaticamente

### ü§ù **Contribui√ß√£o**

#### **Como Contribuir**
1. **Fork** o reposit√≥rio
2. **Clone** seu fork localmente
3. **Crie** uma branch para sua feature
4. **Desenvolva** e teste sua funcionalidade
5. **Commit** suas mudan√ßas
6. **Push** para sua branch
7. **Abra** um Pull Request

#### **Padr√µes de C√≥digo**
- **Python**: PEP 8 com black formatter
- **Documenta√ß√£o**: Docstrings em portugu√™s
- **Testes**: pytest para funcionalidades cr√≠ticas
- **Logs**: Sistema de logging detalhado implementado

#### **√Åreas para Contribui√ß√£o**
- **Testes**: Adicionar testes para funcionalidades existentes
- **Documenta√ß√£o**: Melhorar guias e exemplos
- **Performance**: Otimiza√ß√µes de algoritmos
- **Interface**: Melhorias na UI/UX
- **Novas Funcionalidades**: Propostas via Issues

### üìö **Recursos de Aprendizado**

#### **Tecnologias Utilizadas**
- **OpenCV**: Vis√£o computacional e processamento de imagem
- **Tkinter/ttkbootstrap**: Interface gr√°fica moderna
- **Scikit-learn**: Machine learning e classifica√ß√£o
- **SQLite**: Banco de dados relacional
- **NumPy**: Computa√ß√£o num√©rica

#### **Conceitos Aplicados**
- **Template Matching**: Algoritmos de correla√ß√£o e diferen√ßa
- **Feature Detection**: ORB para detec√ß√£o de caracter√≠sticas
- **Machine Learning**: Classificadores supervisionados
- **Transforma√ß√µes Geom√©tricas**: Homografia e RANSAC
- **Sistema de Cache**: Otimiza√ß√£o de performance

### üåü **Reconhecimento**

#### **Contribuidores Ativos**
- **Equipe DX**: Desenvolvimento Digital
- **Comunidade**: Contribui√ß√µes via GitHub
- **Usu√°rios**: Feedback e sugest√µes

#### **Agradecimentos**
- **OpenCV**: Biblioteca de vis√£o computacional
- **Scikit-learn**: Framework de machine learning
- **Tkinter**: Interface gr√°fica nativa do Python
- **ttkbootstrap**: Temas modernos para Tkinter

---

## üìÑ Licen√ßa

Este projeto est√° licenciado sob a **MIT License** - veja o arquivo [LICENSE](LICENSE) para detalhes.

---

## üèÜ **Status do Projeto**

<div align="center">

![Version](https://img.shields.io/badge/Version-2.1-blue.svg)
![Status](https://img.shields.io/badge/Status-Production%20Ready-brightgreen.svg)
![Python](https://img.shields.io/badge/Python-3.8+-blue.svg)
![OpenCV](https://img.shields.io/badge/OpenCV-4.8+-green.svg)
![License](https://img.shields.io/badge/License-MIT-green.svg)

**Sistema de Vis√£o Computacional DX v2.1 - Produ√ß√£o e Pronto para Uso Industrial**

*Desenvolvido com ‚ù§Ô∏è pela Equipe DX*

</div>
